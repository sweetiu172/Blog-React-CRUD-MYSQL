FROM mysql:8.0

COPY init.sql /docker-entrypoint-initdb.d

ARG MYSQL_ROOT_PASSWORD=root
ARG MYSQL_DATABASE=blog_posts
ARG MYSQL_USER=tuan
ARG MYSQL_PASSWORD=123456

ENV MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}
ENV MYSQL_DATABASE=${MYSQL_DATABASE}
ENV MYSQL_USER=${MYSQL_USER}
ENV MYSQL_PASSWORD=${MYSQL_PASSWORD}

# COPY init.sql /docker-entrypoint-initdb.d
# ENV MYSQL_ROOT_PASSWORD=root
# ENV MYSQL_DATABASE=blog_posts
# ENV MYSQL_USER=lehungtran12
# ENV MYSQL_PASSWORD=123456

RUN ls -l

VOLUME ["/var/lib/mysql"]

EXPOSE 3306

CMD ["mysqld"]
